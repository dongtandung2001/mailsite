---
import Layout from "../../layouts/Layout.astro";
import OrderTable from "../../components/OrderTable.vue";
import axios from "axios";
const headers = [
  {
    key: "OrderID",
    title: "Order ID",
  },
  {
    key: "CustomerID",
    title: "Customer ID",
  },
  {
    key: "EmployeeID",
    title: "Employee ID",
  },
  {
    key: "OrderDate",
    title: "Order Date",
  },
];

let { data } = await axios.get("http://127.0.0.1:3000/api/orders");
data = data.data.slice(0, 10);
---

<Layout title="Mailsite">
  <main class="">
    <OrderTable
      tableTitle="Order List"
      tableHeaders={headers}
      tableData={data}
      tableFirstColumn="OrderID"
      client:load
    />
  </main>
</Layout>
